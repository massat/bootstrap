---

- name: zsh | clone oh-my-zsh repo
  git: repo=https://github.com/robbyrussell/oh-my-zsh.git dest=~/.oh-my-zsh

- name: zsh | deploy .zshrc
  template: src=~/.oh-my-zsh/templates/zshrc.zsh-template dest=~/.zshrc

- name: zsh | add zsh to standard shells
  sudo: yes
  lineinfile: dest=/etc/shells line=/usr/local/bin/zsh

- name: zsh | set default shell
  command: "chsh -s /usr/local/bin/zsh {{ ansible_env.USER }}"

- name: zsh | .myzshrc
  file: src=~/dotfiles/myzshrc dest=~/.myzshrc state=link

- name: zsh | .zshrc_ssh
  file: src=~/dotfiles/zshrc_ssh dest=~/.zshrc_ssh state=link

